{"ast":null,"code":"var _jsxFileName = \"/Users/anuragsingh/Desktop/interbase/client/src/components/InterviewCard2.js\";\nimport React from 'react';\nimport '../assets/css/InterviewCard2.css';\n\nclass InterviewCard2 extends React.Component {\n  constructor() {\n    super();\n\n    this.assignInt = async (interview_id, student_id) => {\n      const {\n        notify\n      } = this.props;\n\n      for (let i = 0; i < this.state.failed.length; i++) {\n        if (this.state.failed[i].id == student_id) {\n          this.notify('info', 'Already Assigned');\n        }\n      }\n\n      for (let i = 0; i < this.state.passed.length; i++) {\n        if (this.state.passed[i].id == student_id) {\n          this.notify('info', 'Already Assigned');\n        }\n      }\n\n      for (let i = 0; i < this.state.onhold.length; i++) {\n        if (this.state.onhold[i].id == student_id) {\n          this.notify('info', 'Already Assigned');\n        }\n      }\n\n      for (let i = 0; i < this.state.notattemped.length; i++) {\n        if (this.state.notattemped[i].id == student_id) {\n          this.notify('info', 'Already Assigned');\n        }\n      }\n\n      const {\n        interview\n      } = this.props;\n      console.log('Assinging' + interview_id + 'to' + student_id);\n      let assignInterview = await fetch('/interviews/addstudent', {\n        method: 'post',\n        body: JSON.stringify({\n          interview_id,\n          student_id\n        }),\n        headers: {\n          'content-type': 'application/json'\n        }\n      });\n      this.getStudentsInAcompany(interview.company); // this.notify('success', 'Interview Assigned');\n      // this.getInterviews();\n    };\n\n    this.getStudentsInAcompany = async company => {\n      let getStudents = await fetch('/company/students', {\n        method: 'post',\n        body: JSON.stringify({\n          company\n        }),\n        headers: {\n          'content-type': 'application/json'\n        }\n      });\n      let res = await getStudents.json();\n      let notattemped = [];\n      let failed = [];\n      let passed = [];\n      let onhold = [];\n\n      for (let i = 0; i < res.data.length; i++) {\n        const cur = res.data[i];\n\n        for (let j = 0; j < cur.notattempted.length; j++) {\n          notattemped.push(cur.notattempted[j]);\n        }\n\n        for (let j = 0; j < cur.passed.length; j++) {\n          passed.push(cur.passed[j]);\n        }\n\n        for (let j = 0; j < cur.failed.length; j++) {\n          failed.push(cur.failed[j]);\n        }\n\n        for (let j = 0; j < cur.onhold.length; j++) {\n          onhold.push(cur.onhold[j]);\n        }\n      }\n\n      this.setState({\n        notattemped,\n        failed,\n        passed,\n        onhold\n      }, () => {\n        console.log('Sate updated', this.state);\n      });\n    };\n\n    this.handleStatusChange = async (student_id, interview_id, oldstate) => {\n      const {\n        interview\n      } = this.props;\n      const {\n        changeIntState\n      } = this.props;\n      let e = document.getElementById(\"select-\" + oldstate + \"-\" + interview_id + student_id);\n      var newState = e.options[e.selectedIndex].value;\n      await changeIntState(student_id, interview_id, oldstate, newState);\n      this.getStudentsInAcompany(interview.company);\n    };\n\n    this.showStudentList = id => {\n      document.getElementById(\"std-list-assign-\" + id).style.display = \"flex\";\n    };\n\n    this.state = {\n      passed: [],\n      failed: [],\n      onhold: [],\n      notattemped: []\n    };\n  } //this function assigns a student's interview to a company\n\n\n  async componentDidMount() {\n    const {\n      interview\n    } = this.props;\n    this.getStudentsInAcompany(interview.company);\n  }\n\n  render() {\n    const {\n      assignInt,\n      interview,\n      students\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"interview-card2\",\n      onClick: () => document.getElementById(\"stud-list-\" + interview._id).style.display = \"block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inter-company ic-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"smallText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, \"Company\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"boldText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, interview.company)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inter-placed ic-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"smallText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, \"Placed/total\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"boldText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, this.state.passed && this.state.passed.length + \"/\" + (this.state.failed.length + this.state.passed.length + this.state.onhold.length + this.state.notattemped.length))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inter-date ic-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"smallText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 28\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 29\n      }\n    }, interview.date)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"student-list-interview\",\n      id: \"stud-list-\" + interview._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \" Students assigned to \", interview.company, \" :\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"students-already-assigned\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, this.state.failed && this.state.failed.map((student, id) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 94\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 107\n      }\n    }, student.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 130\n      }\n    }, student.college), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 156\n      }\n    }, student.batch), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 180\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"select-failed-\" + interview._id + student._id,\n      onChange: () => this.handleStatusChange(student._id, interview._id, 'failed'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"passed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 41\n      }\n    }, \"PASSED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"failed\",\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 41\n      }\n    }, \"FAILED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"not_attempted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 41\n      }\n    }, \"NOT_ATTEMPTED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"onhold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 41\n      }\n    }, \"ONHOLD\"))))), this.state.notattemped && this.state.notattemped.map((student, id) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 104\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 117\n      }\n    }, student.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 140\n      }\n    }, student.college), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 166\n      }\n    }, student.batch), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 190\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"select-not_attempted-\" + interview._id + student._id,\n      onChange: () => this.handleStatusChange(student._id, interview._id, 'not_attempted'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"passed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 41\n      }\n    }, \"PASSED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"failed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 41\n      }\n    }, \"FAILED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"not_attempted\",\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }\n    }, \"NOT_ATTEMPTED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"onhold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 41\n      }\n    }, \"ONHOLD\"))))), this.state.onhold && this.state.onhold.map((student, id) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 94\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 107\n      }\n    }, student.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 130\n      }\n    }, student.college), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 156\n      }\n    }, student.batch), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 180\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"select-onhold-\" + interview._id + student._id,\n      onChange: () => this.handleStatusChange(student._id, interview._id, 'onhold'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"passed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 41\n      }\n    }, \"PASSED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"failed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 41\n      }\n    }, \"FAILED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"not_attempted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 41\n      }\n    }, \"NOT_ATTEMPTED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"onhold\",\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 41\n      }\n    }, \"ONHOLD\"))))), this.state.passed && this.state.passed.map((student, id) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 94\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 107\n      }\n    }, student.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 130\n      }\n    }, student.college), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 156\n      }\n    }, student.batch), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 180\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"select-passed-\" + interview._id + student._id,\n      onChange: () => this.handleStatusChange(student._id, interview._id, 'passed'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"passed\",\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 41\n      }\n    }, \"PASSED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"failed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 41\n      }\n    }, \"FAILED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"not_attempted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 41\n      }\n    }, \"NOT_ATTEMPTED\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"onhold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 41\n      }\n    }, \"ONHOLD\"))))))), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.showStudentList(interview._id),\n      className: \"newAssignBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 33\n      }\n    }, \"Assign Students\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"studentListToAssign\",\n      id: 'std-list-assign-' + interview._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 37\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 37\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 37\n      }\n    }, \"College\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 37\n      }\n    }, \"Course\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 37\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, students.map((student, id) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 64\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 77\n      }\n    }, id + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 94\n      }\n    }, student.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 117\n      }\n    }, student.college), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 143\n      }\n    }, student.batch), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 167\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.assignInt(interview._id, student._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 171\n      }\n    }, \"Assign\")))))))));\n  }\n\n}\n\nexport default InterviewCard2;","map":{"version":3,"sources":["/Users/anuragsingh/Desktop/interbase/client/src/components/InterviewCard2.js"],"names":["React","InterviewCard2","Component","constructor","assignInt","interview_id","student_id","notify","props","i","state","failed","length","id","passed","onhold","notattemped","interview","console","log","assignInterview","fetch","method","body","JSON","stringify","headers","getStudentsInAcompany","company","getStudents","res","json","data","cur","j","notattempted","push","setState","handleStatusChange","oldstate","changeIntState","e","document","getElementById","newState","options","selectedIndex","value","showStudentList","style","display","componentDidMount","render","students","_id","width","date","map","student","name","college","batch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../assets/css/InterviewCard2.css'\nclass InterviewCard2 extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            passed: [],\n            failed: [],\n            onhold: [],\n            notattemped: []\n        }\n    }\n\n    //this function assigns a student's interview to a company\n    assignInt = async (interview_id, student_id) => {\n        const{notify}=this.props;\n        for(let i = 0;i<this.state.failed.length;i++){\n            if(this.state.failed[i].id == student_id){\n                this.notify('info','Already Assigned');\n            }\n        }\n        for(let i = 0;i<this.state.passed.length;i++){\n            if(this.state.passed[i].id == student_id){\n                this.notify('info','Already Assigned');\n            }\n        }\n        for(let i = 0;i<this.state.onhold.length;i++){\n            if(this.state.onhold[i].id == student_id){\n                this.notify('info','Already Assigned');\n            }\n        }\n        for(let i = 0;i<this.state.notattemped.length;i++){\n            if(this.state.notattemped[i].id == student_id){\n                this.notify('info','Already Assigned');\n            }\n        }\n\n        const { interview } = this.props;\n        console.log('Assinging' + interview_id + 'to' + student_id);\n        let assignInterview = await fetch('/interviews/addstudent', {\n            method: 'post',\n            body: JSON.stringify({\n                interview_id,\n                student_id\n            }),\n            headers: {\n                'content-type': 'application/json'\n            }\n        })\n        this.getStudentsInAcompany(interview.company)\n        // this.notify('success', 'Interview Assigned');\n        // this.getInterviews();\n    }\n    getStudentsInAcompany = async (company) => {\n        let getStudents = await fetch('/company/students', {\n            method: 'post',\n            body: JSON.stringify({\n                company\n            }),\n            headers: {\n                'content-type': 'application/json'\n            }\n        })\n        let res = await getStudents.json();\n        let notattemped = [];\n        let failed = [];\n        let passed = [];\n        let onhold = [];\n\n        for (let i = 0; i < res.data.length; i++) {\n            const cur = res.data[i];\n            for (let j = 0; j < cur.notattempted.length; j++) {\n                notattemped.push(cur.notattempted[j]);\n            }\n            for (let j = 0; j < cur.passed.length; j++) {\n                passed.push(cur.passed[j]);\n            }\n            for (let j = 0; j < cur.failed.length; j++) {\n                failed.push(cur.failed[j]);\n            }\n            for (let j = 0; j < cur.onhold.length; j++) {\n                onhold.push(cur.onhold[j]);\n            }\n        }\n        this.setState({\n            notattemped,\n            failed,\n            passed,\n            onhold\n        }, () => {\n            console.log('Sate updated', this.state);\n        })\n    }\n\n\n    async componentDidMount() {\n        const { interview } = this.props;\n        this.getStudentsInAcompany(interview.company);\n    }\n\n    handleStatusChange = async (student_id, interview_id, oldstate) => {\n        const { interview } = this.props;\n        const { changeIntState } = this.props;\n        let e = document.getElementById(\"select-\" + oldstate + \"-\" + interview_id + student_id);\n        var newState = e.options[e.selectedIndex].value;\n        await changeIntState(student_id, interview_id, oldstate, newState);\n        this.getStudentsInAcompany(interview.company);\n    }\n\n    showStudentList = (id) => {\n        document.getElementById(\"std-list-assign-\" + id).style.display = \"flex\";\n    }\n    render() {\n        const { assignInt, interview, students } = this.props;\n        return (\n            <div className=\"interview-card2\" onClick={() => document.getElementById(\"stud-list-\" + interview._id).style.display = \"block\"}>\n                <div style={{ display: 'flex', width: '100%' }}>\n                    <div className=\"inter-company ic-2\">\n                        <span className=\"smallText\">\n                            Company\n                    </span><br></br>\n                        <span className=\"boldText\">\n                            {interview.company}\n                        </span>\n                    </div>\n                    <div className='inter-placed ic-2'>\n                        <span className=\"smallText\">\n                            Placed/total\n                    </span><br></br>\n                        <span className=\"boldText\">\n                            {this.state.passed && this.state.passed.length + \"/\" + (this.state.failed.length + this.state.passed.length + this.state.onhold.length + this.state.notattemped.length)}\n                        </span>\n                    </div>\n                    <div className=\"inter-date ic-2\">\n                        <span className=\"smallText\">\n                            Date\n                    </span><br></br>\n                        <span className=\"\">\n                            <b>{interview.date}</b>\n                        </span>\n                    </div>\n                </div>\n\n                <div className=\"student-list-interview\" id={\"stud-list-\" + interview._id}>\n                    <center> Students assigned to {interview.company} :</center>\n                    <div className=\"students-already-assigned\">\n                        <table >\n                            <tbody>\n                                {this.state.failed && this.state.failed.map((student, id) => <tr key={id}><td>{student.name}</td><td>{student.college}</td><td>{student.batch}</td><td>\n                                    <select id={\"select-failed-\" + interview._id + student._id} onChange={() => this.handleStatusChange(student._id, interview._id, 'failed')}>\n                                        <option value='passed'>PASSED</option>\n                                        <option value='failed' selected >FAILED</option>\n                                        <option value='not_attempted' >NOT_ATTEMPTED</option>\n                                        <option value='onhold'>ONHOLD</option>\n                                    </select>\n                                </td></tr>)}\n                                {this.state.notattemped && this.state.notattemped.map((student, id) => <tr key={id}><td>{student.name}</td><td>{student.college}</td><td>{student.batch}</td><td>\n                                    <select id={\"select-not_attempted-\" + interview._id + student._id} onChange={() => this.handleStatusChange(student._id, interview._id, 'not_attempted')}>\n                                        <option value='passed'>PASSED</option>\n                                        <option value='failed'>FAILED</option>\n                                        <option value='not_attempted' selected>NOT_ATTEMPTED</option>\n                                        <option value='onhold'>ONHOLD</option>\n                                    </select></td></tr>)}\n                                {this.state.onhold && this.state.onhold.map((student, id) => <tr key={id}><td>{student.name}</td><td>{student.college}</td><td>{student.batch}</td><td>\n                                    <select id={\"select-onhold-\" + interview._id + student._id} onChange={() => this.handleStatusChange(student._id, interview._id, 'onhold')}>\n                                        <option value='passed'>PASSED</option>\n                                        <option value='failed'>FAILED</option>\n                                        <option value='not_attempted'>NOT_ATTEMPTED</option>\n                                        <option value='onhold' selected>ONHOLD</option>\n                                    </select></td></tr>)}\n                                {this.state.passed && this.state.passed.map((student, id) => <tr key={id}><td>{student.name}</td><td>{student.college}</td><td>{student.batch}</td><td>\n                                    <select id={\"select-passed-\" + interview._id + student._id} onChange={() => this.handleStatusChange(student._id, interview._id, 'passed')}>\n                                        <option value='passed' selected>PASSED</option>\n                                        <option value='failed'>FAILED</option>\n                                        <option value='not_attempted'>NOT_ATTEMPTED</option>\n                                        <option value='onhold'>ONHOLD</option>\n                                    </select></td></tr>)}\n                            </tbody>\n                        </table>\n                        <center><button onClick={() => this.showStudentList(interview._id)} className=\"newAssignBtn\" >Assign Students</button></center>\n\n                    </div>\n                    <div className=\"studentListToAssign\" id={'std-list-assign-' + interview._id}>\n                        <table >\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>Name</th>\n                                    <th>College</th>\n                                    <th>Course</th>\n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {students.map((student, id) => <tr key={id}><td>{id + 1}</td><td>{student.name}</td><td>{student.college}</td><td>{student.batch}</td><td><button onClick={() => this.assignInt(interview._id, student._id)} >Assign</button></td></tr>)}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default InterviewCard2;"]},"metadata":{},"sourceType":"module"}