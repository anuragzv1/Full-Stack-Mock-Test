{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _reactUse = require(\"react-use\");\n\nvar _NotyContext = require(\"./NotyContext\");\n\nvar _NotyContainer = _interopRequireDefault(require(\"./components/NotyContainer\"));\n\nvar _useNoty3 = _interopRequireDefault(require(\"./hooks/useNoty\"));\n\nvar _this = void 0,\n    _jsxFileName = \"/Users/islamkiasov/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/\\u041C\\u043E\\u0434\\u0443\\u043B\\u0438/reactNoty/src/Noty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar positionList = [\"topRight\", \"topLeft\", \"top\", \"bottom\", \"bottomLeft\", \"bottomRight\", \"topCenter\", \"center\", \"centerLeft\", \"centerRight\", \"bottomCenter\"];\nvar useNotyList = (0, _reactUse.createGlobalState)([]);\n\nvar Noty = function Noty(props) {\n  var _useContext = (0, _react.useContext)(_NotyContext.NotyContext),\n      changeContext = _useContext.changeContext;\n\n  var _useNotyList = useNotyList(),\n      _useNotyList2 = (0, _slicedToArray2[\"default\"])(_useNotyList, 2),\n      notyList = _useNotyList2[0],\n      setNotyList = _useNotyList2[1];\n\n  var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      notyQueue = _useState2[0],\n      setNotyQueue = _useState2[1];\n\n  var emitter = new _events[\"default\"]();\n  var notyRef = {};\n\n  var resetTtl = function resetTtl() {\n    var _iterator = _createForOfIteratorHelper(notyList),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var noty = _step.value;\n        notyRef[noty.id].resetTtl();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  var resumeAll = function resumeAll() {\n    var _iterator2 = _createForOfIteratorHelper(notyList),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var noty = _step2.value;\n        notyRef[noty.id].setInterval();\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n\n  var _show = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n      var settings,\n          maxVisible,\n          newNoty,\n          _args = arguments;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              settings = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              maxVisible = props.maxVisible;\n              _context.next = 4;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 100 * notyList.length);\n              });\n\n            case 4:\n              newNoty = _objectSpread(_objectSpread(_objectSpread({}, props), settings), {}, {\n                id: _lodash[\"default\"].uniqueId(\"noty_\"),\n                emitter: new _events[\"default\"](),\n                on: function on() {\n                  emitter.on.apply(emitter, arguments);\n                },\n                off: function off() {\n                  emitter.off.apply(emitter, arguments);\n                },\n                close: function close() {\n                  notyRef[this.id].onClose();\n                },\n                stop: function stop() {\n                  notyRef[this.id].resetTtl();\n                },\n                resume: function resume() {\n                  notyRef[this.id].setInterval();\n                }\n              });\n\n              if (maxVisible === notyList.length) {\n                setNotyQueue(_lodash[\"default\"].concat(notyQueue, newNoty));\n                emitter.emit(\"onQueue\", {\n                  type: \"push\",\n                  noty: newNoty\n                });\n              } else {\n                setNotyList(_lodash[\"default\"].concat(notyList, newNoty));\n              }\n\n              return _context.abrupt(\"return\", newNoty);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function show() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var queueShift = function queueShift() {\n    if (notyQueue.length === 0) {\n      return;\n    }\n\n    var noty = notyQueue.shift();\n    emitter.emit(\"onQueue\", {\n      type: \"shift\",\n      noty: noty\n    });\n    setNotyQueue(notyQueue);\n    setNotyList(_lodash[\"default\"].concat(notyList, noty));\n  };\n\n  var _on = function on() {\n    return emitter.on.apply(emitter, arguments);\n  };\n\n  var emit = function emit(alias, id) {\n    var noty = _lodash[\"default\"].find(notyList, [\"id\", id]);\n\n    if (noty) {\n      noty.emitter.emit(alias, noty);\n      emitter.emit(alias, noty);\n    }\n  };\n\n  var onClose = function onClose(id) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    switch (type) {\n      case 1:\n        emit(\"onClick\", id);\n        break;\n\n      case 2:\n        emit(\"onClickCloseButton\", id);\n        break;\n    }\n\n    emit(\"onClose\", id);\n    setNotyList(_lodash[\"default\"].filter(notyList, function (e) {\n      return e.id !== id;\n    }));\n    queueShift();\n  };\n\n  var _closeAll = function closeAll() {\n    setNotyList(_lodash[\"default\"].map(notyList, function (e) {\n      e.ttl = 0;\n      return e;\n    }));\n    emitter.emit(\"onCloseAll\", notyList);\n  };\n\n  (0, _react.useEffect)(function () {\n    window.addEventListener(\"blur\", resetTtl);\n    window.addEventListener(\"focus\", resumeAll);\n\n    var _useNoty = (0, _useNoty3[\"default\"])(),\n        setInterface = _useNoty.setInterface;\n\n    setInterface({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n  }, []);\n  (0, _react.useEffect)(function () {\n    var _useNoty2 = (0, _useNoty3[\"default\"])(),\n        setInterface = _useNoty2.setInterface;\n\n    setInterface({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n    changeContext({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n  }, [notyList.length]);\n  (0, _reactUse.useMount)(function () {\n    changeContext({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    id: \"notyContainer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, positionList.map(function (position) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: position,\n      id: \"noty_layout__\".concat(position),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, _lodash[\"default\"].filter(notyList, [\"position\", position]).map(function (noty) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_NotyContainer[\"default\"], (0, _extends2[\"default\"])({\n        ref: function ref(e) {\n          return notyRef[noty.id] = e;\n        },\n        key: noty.id\n      }, noty, {\n        onClose: onClose,\n        emit: emit,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }\n      }));\n    }));\n  }));\n};\n\nNoty.defaultProps = {\n  maxVisible: 5,\n  type: \"alert\",\n  title: \"\",\n  text: \"\",\n  ttl: 4000,\n  position: \"topRight\",\n  animate: {\n    open: \"bounceInRight\",\n    close: \"bounceOutRight\"\n  },\n  isProgressBar: true,\n  isCloseButton: true,\n  isButton: true,\n  isVisibility: true,\n  template: false,\n  props: {},\n  theme: \"relax\"\n};\nvar _default = Noty;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/anuragsingh/Desktop/interbase/node_modules/@kiyasov/noty/lib/Noty.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","_extends2","_regenerator","_defineProperty2","_asyncToGenerator2","_slicedToArray2","_react","_events","_lodash","_reactUse","_NotyContext","_NotyContainer","_useNoty3","_this","_jsxFileName","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","positionList","useNotyList","createGlobalState","Noty","props","_useContext","useContext","NotyContext","changeContext","_useNotyList","_useNotyList2","notyList","setNotyList","_useState","useState","_useState2","notyQueue","setNotyQueue","emitter","notyRef","resetTtl","_iterator","_step","noty","id","resumeAll","_iterator2","_step2","setInterval","_show","_ref","mark","_callee","settings","maxVisible","newNoty","_args","wrap","_callee$","_context","prev","undefined","Promise","resolve","setTimeout","uniqueId","on","off","close","onClose","stop","resume","concat","emit","type","abrupt","show","queueShift","shift","_on","alias","find","_closeAll","closeAll","map","ttl","useEffect","window","addEventListener","_useNoty","setInterface","_useNoty2","useMount","createElement","__self","__source","fileName","lineNumber","columnNumber","position","ref","defaultProps","title","text","animate","open","isProgressBar","isCloseButton","isButton","isVisibility","template","theme","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _reactUse = require(\"react-use\");\n\nvar _NotyContext = require(\"./NotyContext\");\n\nvar _NotyContainer = _interopRequireDefault(require(\"./components/NotyContainer\"));\n\nvar _useNoty3 = _interopRequireDefault(require(\"./hooks/useNoty\"));\n\nvar _this = void 0,\n    _jsxFileName = \"/Users/islamkiasov/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B/\\u041C\\u043E\\u0434\\u0443\\u043B\\u0438/reactNoty/src/Noty.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar positionList = [\"topRight\", \"topLeft\", \"top\", \"bottom\", \"bottomLeft\", \"bottomRight\", \"topCenter\", \"center\", \"centerLeft\", \"centerRight\", \"bottomCenter\"];\nvar useNotyList = (0, _reactUse.createGlobalState)([]);\n\nvar Noty = function Noty(props) {\n  var _useContext = (0, _react.useContext)(_NotyContext.NotyContext),\n      changeContext = _useContext.changeContext;\n\n  var _useNotyList = useNotyList(),\n      _useNotyList2 = (0, _slicedToArray2[\"default\"])(_useNotyList, 2),\n      notyList = _useNotyList2[0],\n      setNotyList = _useNotyList2[1];\n\n  var _useState = (0, _react.useState)([]),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      notyQueue = _useState2[0],\n      setNotyQueue = _useState2[1];\n\n  var emitter = new _events[\"default\"]();\n  var notyRef = {};\n\n  var resetTtl = function resetTtl() {\n    var _iterator = _createForOfIteratorHelper(notyList),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var noty = _step.value;\n        notyRef[noty.id].resetTtl();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  var resumeAll = function resumeAll() {\n    var _iterator2 = _createForOfIteratorHelper(notyList),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var noty = _step2.value;\n        notyRef[noty.id].setInterval();\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n\n  var _show = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n      var settings,\n          maxVisible,\n          newNoty,\n          _args = arguments;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              settings = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              maxVisible = props.maxVisible;\n              _context.next = 4;\n              return new Promise(function (resolve) {\n                return setTimeout(resolve, 100 * notyList.length);\n              });\n\n            case 4:\n              newNoty = _objectSpread(_objectSpread(_objectSpread({}, props), settings), {}, {\n                id: _lodash[\"default\"].uniqueId(\"noty_\"),\n                emitter: new _events[\"default\"](),\n                on: function on() {\n                  emitter.on.apply(emitter, arguments);\n                },\n                off: function off() {\n                  emitter.off.apply(emitter, arguments);\n                },\n                close: function close() {\n                  notyRef[this.id].onClose();\n                },\n                stop: function stop() {\n                  notyRef[this.id].resetTtl();\n                },\n                resume: function resume() {\n                  notyRef[this.id].setInterval();\n                }\n              });\n\n              if (maxVisible === notyList.length) {\n                setNotyQueue(_lodash[\"default\"].concat(notyQueue, newNoty));\n                emitter.emit(\"onQueue\", {\n                  type: \"push\",\n                  noty: newNoty\n                });\n              } else {\n                setNotyList(_lodash[\"default\"].concat(notyList, newNoty));\n              }\n\n              return _context.abrupt(\"return\", newNoty);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function show() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var queueShift = function queueShift() {\n    if (notyQueue.length === 0) {\n      return;\n    }\n\n    var noty = notyQueue.shift();\n    emitter.emit(\"onQueue\", {\n      type: \"shift\",\n      noty: noty\n    });\n    setNotyQueue(notyQueue);\n    setNotyList(_lodash[\"default\"].concat(notyList, noty));\n  };\n\n  var _on = function on() {\n    return emitter.on.apply(emitter, arguments);\n  };\n\n  var emit = function emit(alias, id) {\n    var noty = _lodash[\"default\"].find(notyList, [\"id\", id]);\n\n    if (noty) {\n      noty.emitter.emit(alias, noty);\n      emitter.emit(alias, noty);\n    }\n  };\n\n  var onClose = function onClose(id) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    switch (type) {\n      case 1:\n        emit(\"onClick\", id);\n        break;\n\n      case 2:\n        emit(\"onClickCloseButton\", id);\n        break;\n    }\n\n    emit(\"onClose\", id);\n    setNotyList(_lodash[\"default\"].filter(notyList, function (e) {\n      return e.id !== id;\n    }));\n    queueShift();\n  };\n\n  var _closeAll = function closeAll() {\n    setNotyList(_lodash[\"default\"].map(notyList, function (e) {\n      e.ttl = 0;\n      return e;\n    }));\n    emitter.emit(\"onCloseAll\", notyList);\n  };\n\n  (0, _react.useEffect)(function () {\n    window.addEventListener(\"blur\", resetTtl);\n    window.addEventListener(\"focus\", resumeAll);\n\n    var _useNoty = (0, _useNoty3[\"default\"])(),\n        setInterface = _useNoty.setInterface;\n\n    setInterface({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n  }, []);\n  (0, _react.useEffect)(function () {\n    var _useNoty2 = (0, _useNoty3[\"default\"])(),\n        setInterface = _useNoty2.setInterface;\n\n    setInterface({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n    changeContext({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n  }, [notyList.length]);\n  (0, _reactUse.useMount)(function () {\n    changeContext({\n      show: function show() {\n        return _show.apply(void 0, arguments);\n      },\n      on: function on() {\n        return _on.apply(void 0, arguments);\n      },\n      closeAll: function closeAll() {\n        return _closeAll.apply(void 0, arguments);\n      }\n    });\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    id: \"notyContainer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, positionList.map(function (position) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: position,\n      id: \"noty_layout__\".concat(position),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, _lodash[\"default\"].filter(notyList, [\"position\", position]).map(function (noty) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_NotyContainer[\"default\"], (0, _extends2[\"default\"])({\n        ref: function ref(e) {\n          return notyRef[noty.id] = e;\n        },\n        key: noty.id\n      }, noty, {\n        onClose: onClose,\n        emit: emit,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }\n      }));\n    }));\n  }));\n};\n\nNoty.defaultProps = {\n  maxVisible: 5,\n  type: \"alert\",\n  title: \"\",\n  text: \"\",\n  ttl: 4000,\n  position: \"topRight\",\n  animate: {\n    open: \"bounceInRight\",\n    close: \"bounceOutRight\"\n  },\n  isProgressBar: true,\n  isCloseButton: true,\n  isButton: true,\n  isVisibility: true,\n  template: false,\n  props: {},\n  theme: \"relax\"\n};\nvar _default = Noty;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}